<!DOCTYPE html>
<html lang="en-GB" dir="ltr">
<head><script src="/am-writing-hugo-theme/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=am-writing-hugo-theme/livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>ES5 和 ES6 的区别？ | Demo Author</title>
<style>
  
  
  @font-face {
      font-family: 'Droid Sans Regular';
      src: url('http://localhost:1313/am-writing-hugo-theme/fonts/DroidSans-webfont.woff') format('woff2');
  }
  @font-face {
      font-family: 'Droid Serif';
      src: url('http://localhost:1313/am-writing-hugo-theme/fonts/DroidSerif-Regular.ttf') format('truetype');
  }
  </style>
    <link rel="stylesheet" href="/am-writing-hugo-theme/css/serif.css">
    <link rel="stylesheet" href="/am-writing-hugo-theme/css/main.css">
    <link rel="stylesheet" href="/am-writing-hugo-theme/css/nord.css">


      <script src="/am-writing-hugo-theme/js/main.js"></script>


</head>
<body>
  <main>
    <section class="left">
      <article>
    <a href="http://localhost:1313/am-writing-hugo-theme/">
        <img src="http://localhost:1313/am-writing-hugo-theme//demo.png" alt="Demo Author" title="Demo Author" class="avatar" />
    </a>
    <h1 class="about">Demo Author</h1>
    <p>
    <a href="http://localhost:1313/am-writing-hugo-theme/fr/48/"><img src="/am-writing-hugo-theme/img/fr.svg" alt="Français" height="20"></a>&nbsp;
    
    
        <a href="http://localhost:1313/am-writing-hugo-theme/en/48/"><img src="/am-writing-hugo-theme/img/en.svg" alt="English" height="20"></a>
        
    


    <h2 class="about">About author</h2>

    <div class="about-author">Tell you readers who you are.</div>

    

    
    <h2 class="about">Where to fine me</h2>
    <p>
        
        <a rel="me" href="https://fosstodon.org/@Wivik" class="social-button" title="Mastodon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="36" height="36"><path d="M21.2595 13.9898C20.9852 15.4006 18.8033 16.9446 16.2974 17.2439C14.9907 17.3998 13.7041 17.5431 12.3321 17.4802C10.0885 17.3774 8.31809 16.9446 8.31809 16.9446C8.31809 17.163 8.33156 17.371 8.3585 17.5655C8.65019 19.7797 10.5541 19.9124 12.3576 19.9742C14.1779 20.0365 15.7987 19.5254 15.7987 19.5254L15.8735 21.1711C15.8735 21.1711 14.6003 21.8548 12.3321 21.9805C11.0814 22.0493 9.52849 21.9491 7.71973 21.4703C3.79684 20.432 3.12219 16.2504 3.01896 12.0074C2.98749 10.7477 3.00689 9.55981 3.00689 8.56632C3.00689 4.22771 5.84955 2.95599 5.84955 2.95599C7.2829 2.29772 9.74238 2.0209 12.2993 2H12.3621C14.919 2.0209 17.3801 2.29772 18.8133 2.95599C18.8133 2.95599 21.6559 4.22771 21.6559 8.56632C21.6559 8.56632 21.6916 11.7674 21.2595 13.9898ZM18.3029 8.9029C18.3029 7.82924 18.0295 6.97604 17.4805 6.34482C16.9142 5.71359 16.1726 5.39001 15.2522 5.39001C14.187 5.39001 13.3805 5.79937 12.8473 6.61819L12.3288 7.48723L11.8104 6.61819C11.2771 5.79937 10.4706 5.39001 9.40554 5.39001C8.485 5.39001 7.74344 5.71359 7.17719 6.34482C6.62807 6.97604 6.3547 7.82924 6.3547 8.9029V14.1562H8.43597V9.05731C8.43597 7.98246 8.88822 7.4369 9.79281 7.4369C10.793 7.4369 11.2944 8.08408 11.2944 9.36376V12.1547H13.3634V9.36376C13.3634 8.08408 13.8646 7.4369 14.8648 7.4369C15.7694 7.4369 16.2216 7.98246 16.2216 9.05731V14.1562H18.3029V8.9029Z" fill="rgba(236,239,244,1)"></path></svg></a>
        

        

        
        <a href="https://ko-fi.com/wivik" rel="noopener noreferrer" class="social-button" title="Ko-Fi">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="36" height="36"><path d="M16 13V5H6V13C6 14.1046 6.89543 15 8 15H14C15.1046 15 16 14.1046 16 13ZM5 3H20C21.1046 3 22 3.89543 22 5V8C22 9.10457 21.1046 10 20 10H18V13C18 15.2091 16.2091 17 14 17H8C5.79086 17 4 15.2091 4 13V4C4 3.44772 4.44772 3 5 3ZM18 5V8H20V5H18ZM2 19H20V21H2V19Z" fill="rgba(236,239,244,1)"></path></svg>
        </a>
        

        

        

        <p class="rss-subscribe">
            <a href="http://localhost:1313/am-writing-hugo-theme/en/contact/" rel="noopener noreferrer" class="support-button rss-button" title="Contact">Contact</a>
        </p>

    </p>
    

    
    
    <h2 class="about">Keep informed</h2>
    <p class="rss-subscribe">
        <a href="http://localhost:1313/am-writing-hugo-theme/en/subscribe/" rel="noopener noreferrer" class="support-button rss-button" title="Find how to subscribe to this website content.">Subscribe</a>
    </p>
    

    
    
    <p class="rss-subscribe">
        <a href="http://localhost:1313/am-writing-hugo-theme/en/books/index.xml" rel="noopener noreferrer" class="support-button rss-button" title="Subscribe to the new books release using RSS.">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M3 17C5.20914 17 7 18.7909 7 21H3V17ZM3 10C9.07513 10 14 14.9249 14 21H12C12 16.0294 7.97056 12 3 12V10ZM3 3C12.9411 3 21 11.0589 21 21H19C19 12.1634 11.8366 5 3 5V3Z"></path></svg>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="currentColor"><path d="M21 18H6C5.44772 18 5 18.4477 5 19C5 19.5523 5.44772 20 6 20H21V22H6C4.34315 22 3 20.6569 3 19V4C3 2.89543 3.89543 2 5 2H21V18ZM5 16.05C5.16156 16.0172 5.32877 16 5.5 16H19V4H5V16.05ZM16 9H8V7H16V9Z"></path></svg>
        </a>

    

    

    </p>
    

    <h2 class="about">Support me</h2>

    

    
    <p>
        <a href="https://ko-fi.com/wivik" rel="noopener noreferrer" class="support-button kofi-button">Support me on Ko-fi</a>
    </p>
    

    

    



    <p class="disclaimer"></p>

</article>

    </section>
    <section class="right">
      <div class="menu">
        <nav>
      <a href="/am-writing-hugo-theme/en/">
        Home
    </a>
      <a href="/am-writing-hugo-theme/en/books/">
        Books
    </a>
      <a href="/am-writing-hugo-theme/en/genres/">
        Genres
    </a>
      <a href="/am-writing-hugo-theme/en/legal/">
        Legal Notice
    </a>
</nav>
      </div>
      <div class="content">
        


<h1>ES5 和 ES6 的区别？</h1>

<p><h2 id="一javascript-由三部分组成">一、javascript 由三部分组成</h2>
<h3 id="1ecmascript核心">1.ECMAScript（核心）</h3>
<p>它规定了语言的组成部分：法语，类型，语句，关键字，操作符等等。</p>
<h3 id="2dom文档对象模型">2.DOM（文档对象模型）</h3>
<p>DOM 把整个页面映射为一个多层节点结果，开发人员可借助 DOM 提供的 API，轻松地删除、添加、替换或修改任何节点。</p>
<h3 id="3bom浏览器对象模型">3.BOM（浏览器对象模型）</h3>
<p>支持可以访问和操作浏览器窗口的浏览器对象模型，开发人员可以控制浏览器显示的页面以外的部分。</p>
<h2 id="二什么是-es5">二、什么是 ES5？</h2>
<p>作为 ECMAScript 第五个版本（第四版因为过于复杂废弃了），浏览器支持情况可看第一副图，增加特性如下。</p>
<h3 id="1strict-模式">1.strict 模式</h3>
<p>严格模式，限制一些用法，&lsquo;use strict&rsquo;;</p>
<h3 id="2array-增加方法">2.Array 增加方法</h3>
<p>增加了 every、some、forEach、filter、indexOf、lastIndexOf、isArray、map、reduce、reduceRight 方法</p>
<p>PS：还有其他方法 Function.prototype.bind、String.prototype.trim、Date.now</p>
<h3 id="3object-方法">3.Object 方法</h3>
<ul>
<li>Object.getPrototypeOf</li>
<li>Object.create</li>
<li>Object.getOwnPropertyNames</li>
<li>Object.defineProperty</li>
<li>Object.getOwnPropertyDescriptor</li>
<li>Object.defineProperties</li>
<li>Object.keys</li>
<li>Object.preventExtensions / Object.isExtensible</li>
<li>Object.seal / Object.isSealed</li>
<li>Object.freeze / Object.isFrozen</li>
</ul>
<p>PS：只讲有什么，不讲是什么。</p>
<h3 id="2什么是-es6">2.什么是 ES6?</h3>
<p>ECMAScript6 在保证向下兼容的前提下，提供大量新特性，目前浏览器兼容情况如下：</p>
<p><strong>ES6 特性如下：</strong></p>
<ol>
<li>
<p>块级作用域 关键字 let, 常量 const</p>
</li>
<li>
<p>对象字面量的属性赋值简写（property value shorthand）</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">obj</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// __proto__
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">__proto__</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">theProtoObj</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Shorthand for ‘handler: handler’
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">handler</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Method definitions
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">toString</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Super calls
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;d &#34;</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">toString</span>();
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Computed (dynamic) property names
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    [ <span style="color:#e6db74">&#39;prop_&#39;</span> <span style="color:#f92672">+</span> (() =&gt; <span style="color:#ae81ff">42</span>)() ]<span style="color:#f92672">:</span> <span style="color:#ae81ff">42</span>
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><ol start="3">
<li>赋值解构</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">singer</span> <span style="color:#f92672">=</span> { <span style="color:#a6e22e">first</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Bob&#34;</span>, <span style="color:#a6e22e">last</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Dylan&#34;</span> };
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> { <span style="color:#a6e22e">first</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">f</span>, <span style="color:#a6e22e">last</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">l</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">singer</span>; <span style="color:#75715e">// 相当于 f = &#34;Bob&#34;, l = &#34;Dylan&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> [<span style="color:#a6e22e">all</span>, <span style="color:#a6e22e">year</span>, <span style="color:#a6e22e">month</span>, <span style="color:#a6e22e">day</span>] <span style="color:#f92672">=</span>  <span style="color:#e6db74">/^(\d\d\d\d)-(\d\d)-(\d\d)$/</span>.<span style="color:#a6e22e">exec</span>(<span style="color:#e6db74">&#34;2015-10-25&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> [<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>] <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]; <span style="color:#75715e">// x = 1, y = 2
</span></span></span></code></pre></div><ol start="4">
<li>函数参数 - 默认值、参数打包、数组展开（Default、Rest、Spread）</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">//Default
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">findArtist</span>(<span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;lu&#39;</span>, <span style="color:#a6e22e">age</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;26&#39;</span>) {
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//Rest
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">x</span>, ...<span style="color:#a6e22e">y</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// y is an Array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">y</span>.<span style="color:#a6e22e">length</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">f</span>(<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#34;hello&#34;</span>, <span style="color:#66d9ef">true</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//Spread
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">f</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>, <span style="color:#a6e22e">z</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">z</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Pass each elem of array as argument
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">f</span>(...[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]) <span style="color:#f92672">==</span> <span style="color:#ae81ff">6</span>
</span></span></code></pre></div><ol start="5">
<li>箭头函数 Arrow functions</li>
</ol>
<p>(1) 简化了代码形式，默认 return 表达式结果。</p>
<p>(2) 自动绑定语义 this，即定义函数时的 this。如上面例子中，forEach 的匿名函数参数中用到的 this。</p>
<p>6.字符串模板 Template strings</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Bob&#34;</span>, <span style="color:#a6e22e">time</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;today&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#e6db74">`Hello </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">, how are you </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">time</span><span style="color:#e6db74">}</span><span style="color:#e6db74">?`</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// return &#34;Hello Bob, how are you today?&#34;
</span></span></span></code></pre></div><ol start="7">
<li>Iterators（迭代器）+ for..of</li>
</ol>
<p>迭代器有个 next 方法，调用会返回：</p>
<p>(1) 返回迭代对象的一个元素：{ done: false, value: elem }</p>
<p>(2) 如果已到迭代对象的末端：{ done: true, value: retVal }</p>
<pre tabindex="0"><code>for (var n of [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]) {
  console.log(n);
}
// 打印a、b、c
</code></pre><ol start="8">
<li>
<p>生成器（Generators）</p>
</li>
<li>
<p>Class</p>
</li>
</ol>
<p>Class，有 constructor、extends、super，但本质上是语法糖（对语言的功能并没有影响，但是更方便程序员使用）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Artist</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">constructor</span>(<span style="color:#a6e22e">name</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">name</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">perform</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; performs &#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Singer</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">Artist</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">constructor</span>(<span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">song</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">constructor</span>(<span style="color:#a6e22e">name</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">song</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">song</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">perform</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">perform</span>() <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;[&#34;</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">song</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;]&#34;</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">james</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Singer</span>(<span style="color:#e6db74">&#34;Etta James&#34;</span>, <span style="color:#e6db74">&#34;At last&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">james</span> <span style="color:#66d9ef">instanceof</span> <span style="color:#a6e22e">Artist</span>; <span style="color:#75715e">// true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">james</span> <span style="color:#66d9ef">instanceof</span> <span style="color:#a6e22e">Singer</span>; <span style="color:#75715e">// true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">james</span>.<span style="color:#a6e22e">perform</span>(); <span style="color:#75715e">// &#34;Etta James performs [At last]&#34;
</span></span></span></code></pre></div><ol start="10">
<li>Modules</li>
</ol>
<p>ES6 的内置模块功能借鉴了 CommonJS 和 AMD 各自的优点：</p>
<p>(1) 具有 CommonJS 的精简语法、唯一导出出口 (single exports) 和循环依赖 (cyclic dependencies) 的特点。</p>
<p>(2) 类似 AMD，支持异步加载和可配置的模块加载。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// lib/math.js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">y</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">pi</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">3.141593</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// app.js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">as</span> <span style="color:#a6e22e">math</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;lib/math&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;2π = &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">pi</span>, <span style="color:#a6e22e">math</span>.<span style="color:#a6e22e">pi</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// otherApp.js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> {<span style="color:#a6e22e">sum</span>, <span style="color:#a6e22e">pi</span>} <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;lib/math&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;2π = &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">pi</span>, <span style="color:#a6e22e">pi</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Module</span> <span style="color:#a6e22e">Loaders</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Dynamic loading – ‘System’ is default loader
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">System</span>.<span style="color:#66d9ef">import</span>(<span style="color:#e6db74">&#39;lib/math&#39;</span>).<span style="color:#a6e22e">then</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">m</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">alert</span>(<span style="color:#e6db74">&#34;2π = &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">pi</span>, <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">pi</span>));
</span></span><span style="display:flex;"><span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Directly manipulate module cache
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;jquery&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">System</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;jquery&#39;</span>, <span style="color:#a6e22e">Module</span>({<span style="color:#a6e22e">$</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">$</span>})); <span style="color:#75715e">// WARNING: not yet finalized
</span></span></span></code></pre></div><ol start="11">
<li>Map + Set + WeakMap + WeakSet</li>
</ol>
<p>四种集合类型，WeakMap、WeakSet 作为属性键的对象如果没有别的变量在引用它们，则会被回收释放掉。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// Sets
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Set</span>();
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#34;hello&#34;</span>).<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#34;goodbye&#34;</span>).<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#34;hello&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">size</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">has</span>(<span style="color:#e6db74">&#34;hello&#34;</span>) <span style="color:#f92672">===</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Maps
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">m</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Map</span>();
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#34;hello&#34;</span>, <span style="color:#ae81ff">42</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">set</span>(<span style="color:#a6e22e">s</span>, <span style="color:#ae81ff">34</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">get</span>(<span style="color:#a6e22e">s</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">34</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//WeakMap
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">wm</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">WeakMap</span>();
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">wm</span>.<span style="color:#a6e22e">set</span>(<span style="color:#a6e22e">s</span>, { <span style="color:#a6e22e">extra</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">42</span> });
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">wm</span>.<span style="color:#a6e22e">size</span> <span style="color:#f92672">===</span> <span style="color:#66d9ef">undefined</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Weak Sets
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ws</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">WeakSet</span>();
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ws</span>.<span style="color:#a6e22e">add</span>({ <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">42</span> });<span style="color:#75715e">//Because the added object has no other references, it will not be held in the set
</span></span></span></code></pre></div><ol start="12">
<li>Math + Number + String + Array + Object APIs</li>
</ol>
<p>一些新的 API</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>Number.<span style="color:#a6e22e">EPSILON</span>
</span></span><span style="display:flex;"><span>Number.<span style="color:#a6e22e">isInteger</span>(<span style="color:#66d9ef">Infinity</span>) <span style="color:#75715e">// false
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Number.isNaN(<span style="color:#e6db74">&#34;NaN&#34;</span>) <span style="color:#75715e">// false
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>Math.<span style="color:#a6e22e">acosh</span>(<span style="color:#ae81ff">3</span>) <span style="color:#75715e">// 1.762747174039086
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Math.<span style="color:#a6e22e">hypot</span>(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>) <span style="color:#75715e">// 5
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Math.<span style="color:#a6e22e">imul</span>(Math.<span style="color:#a6e22e">pow</span>(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">32</span>) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>, Math.<span style="color:#a6e22e">pow</span>(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">32</span>) <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>) <span style="color:#75715e">// 2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;abcde&#34;</span>.<span style="color:#a6e22e">includes</span>(<span style="color:#e6db74">&#34;cd&#34;</span>) <span style="color:#75715e">// true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#e6db74">&#34;abc&#34;</span>.<span style="color:#a6e22e">repeat</span>(<span style="color:#ae81ff">3</span>) <span style="color:#75715e">// &#34;abcabcabc&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>Array.<span style="color:#a6e22e">from</span>(document.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#e6db74">&#39;*&#39;</span>)) <span style="color:#75715e">// Returns a real Array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>Array.<span style="color:#66d9ef">of</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>) <span style="color:#75715e">// Similar to new Array(...), but without special one-arg behavior
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">fill</span>(<span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">1</span>) <span style="color:#75715e">// [0,7,7]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>].<span style="color:#a6e22e">find</span>(<span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">3</span>) <span style="color:#75715e">// 3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>].<span style="color:#a6e22e">findIndex</span>(<span style="color:#a6e22e">x</span> =&gt; <span style="color:#a6e22e">x</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>) <span style="color:#75715e">// 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>].<span style="color:#a6e22e">copyWithin</span>(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">0</span>) <span style="color:#75715e">// [1, 2, 3, 1, 2]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>[<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>].<span style="color:#a6e22e">entries</span>() <span style="color:#75715e">// iterator [0, &#34;a&#34;], [1,&#34;b&#34;], [2,&#34;c&#34;]
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>[<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>].<span style="color:#a6e22e">keys</span>() <span style="color:#75715e">// iterator 0, 1, 2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>[<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>].<span style="color:#a6e22e">values</span>() <span style="color:#75715e">// iterator &#34;a&#34;, &#34;b&#34;, &#34;c&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>Object.<span style="color:#a6e22e">assign</span>(<span style="color:#a6e22e">Point</span>, { <span style="color:#a6e22e">origin</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Point</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>) })
</span></span></code></pre></div><ol start="13">
<li>Proxies</li>
</ol>
<p>使用代理（Proxy）监听对象的操作，然后可以做一些相应事情。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">target</span> <span style="color:#f92672">=</span> {};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">handler</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">get</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">receiver</span>, <span style="color:#a6e22e">name</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">`Hello, </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">!`</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">p</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Proxy(<span style="color:#a6e22e">target</span>, <span style="color:#a6e22e">handler</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">world</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;Hello, world!&#39;</span>;
</span></span></code></pre></div><p>可监听的操作：get、set、has、deleteProperty、apply、construct、getOwnPropertyDescriptor、defineProperty、getPrototypeOf、setPrototypeOf、enumerate、ownKeys、preventExtensions、isExtensible。</p>
<ol start="14">
<li>Symbols</li>
</ol>
<p>Symbol 是一种基本类型。Symbol 通过调用 symbol 函数产生，它接收一个可选的名字参数，该函数返回的 symbol 是唯一的。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">key</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Symbol</span>(<span style="color:#e6db74">&#34;key&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">key2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Symbol</span>(<span style="color:#e6db74">&#34;key&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">key</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">key2</span>  <span style="color:#75715e">//false
</span></span></span></code></pre></div><ol start="15">
<li>Promises</li>
</ol>
<p>Promises 是处理异步操作的对象，使用了 Promise 对象之后可以用一种链式调用的方式来组织代码，让代码更加直观（类似 jQuery 的 deferred 对象）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fakeAjax</span>(<span style="color:#a6e22e">url</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Promise(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">resolve</span>, <span style="color:#a6e22e">reject</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// setTimeouts are for effect, typically we would handle XHR
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">url</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">setTimeout</span>(<span style="color:#a6e22e">reject</span>, <span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">setTimeout</span>(<span style="color:#a6e22e">resolve</span>, <span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// no url, promise rejected
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">fakeAjax</span>().<span style="color:#a6e22e">then</span>(<span style="color:#66d9ef">function</span> () {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;success&#39;</span>);
</span></span><span style="display:flex;"><span>},<span style="color:#66d9ef">function</span> () {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;fail&#39;</span>);
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div></p>



      </div>
    </section>
  </main>
  <footer>
    <p>Copyright 2024.
    
    Content licensed under Creative Commons BY-SA 4.0
    
</p>
<p class="footer-credits">
    Powered by 
    <a href="https://gohugo.io">Hugo</a> 
    using theme 
    <a href="https://github.com/Wivik/am-writing-hugo-theme" target="_blank" rel="noopener noreferrer">Am Writing</a> 
    licensed under MIT License
</p>
  </footer>
</body>
</html>
